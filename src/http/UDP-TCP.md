## UDP

UDP，用户数据报协议，是一个简单的面相数据报的通信协议，即对应用层交下来的报文，不合并，不拆分，只是在其上面加上首部后就交给了下面的网络层

UDP报头包括4个字段，每个字段占用2个字节（16个二进制位），标题短，开销小

源端口  目的端口  长度  校验和

### UDP特点
1. UDP不提供复杂的控制机制，利用IP提供面向无连接的通信服务
2. 传输途中丢包，UDP也不负责重发
3. 当包的到达顺序出现乱序时，UDP没有纠正功能
4. 并且它是将应用程序发来的数据收到的那一刻，立即按照原样发送到网络上的一种机制，即使出现网络拥堵，UDP也无法进行流量控制等避免网络拥塞行为

## TCP

TCP，传输控制协议，是一种可靠，面向字节流的通信协议，把上面应用层交下来的数据看成无结构的字节流来发送

TCP会根据当前网络的拥塞状态来确定每个报文段的大小

TCP报文首部有20个字节，额外开销大

### TCP特点
1. TCP充分地实现了数据传输时各种控制功能，可以进行丢包时的重发控制，还可以对次序乱掉的分包进行顺序控制
2. TCP作为一种面向有连接的协议，只有在确认通信对端存在时才会发送数据，从而可以控制通信流量的浪费
3. 根据TCP的这些机制，在IP这种无连接的网络上也能够实现高可靠性的通信（主要通过检验和，序列号，确认应答，重发控制，连接管理以及窗口控制等机制实现）

## UDP和TCP的区别
1. TCP是面向连接的协议，建立连接3次握手，断开连接4次挥手，UDP是面向无连接，数据传输前后不连接，发送端只负责将数据发送到网络，接收端从消息队列读取

2. TCP提供可靠的服务，传输过程采用流量控制，编号与确认，计时器等手段确保数据无差错，不丢失。UDP则尽可能传递数据，但不保证传递交付给对方

3. TCP面向字节流，将应用层报文看成一串无结构的字节流，分解为多个TCP报文段传输后，在目的站重新装配。UDP协议面向报文，不拆分应用层报文，只保留报文边界，一次发送一个报文，接收方法除报文首部后，原封不动将报文交给上层应用层

4. TCP只能点对点全双工通信，UDP支持一对一，一对多，多对一和多对多的交互通信


## 应用场景
TCP应用场景适用于对效率要求低，对准确性要求高或者要求有连接的场景；UDP适用场景为效率要求高，对准确性要求低的场景

